<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<head>
<meta charset="UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
<title>Tracking & Consent API</title>
</head>

<body>
<h2>Tracking & Consent APIでトラッキングするよ</h2>

      <button type="button" id="show_banner_button" onClick="pdt('showConsentBanner')">
        Cookie Consent Settings
      </button>
      <button type="button" id="cookie_clear_button" onClick="pdt('clearTrackingCookies')">
        Cookie Clear
      </button>
      <button type="button" id="revokeConsent_button" onClick="pdt('revokeConsent')">
        revokeConsent
      </button>
	
<script>
    var piDomain = 'choco.tsubugumioishii.blog'; // format of 'go.example.com'

    (function() {
        var s=document.createElement('script');s.type='text/javascript';s.async=true;s.src='//'+piDomain+'/pdt.js';
        var c=document.getElementsByTagName('script')[0];c.parentNode.insertBefore(s,c);
        window['pdt'] = window['pdt'] || function(){(window['pdt'].cq = window['pdt'].cq || []).push(arguments);};
    })();

    // Create an analytics tracker with the required information:
    // pdt('create', Account Engagement account ID + 1000, Account Engagement campaign ID + 1000, 'go.example.com');
    pdt('create', 847683, 3209, piDomain);
    pdt("setOptIn", true);
   
    // pdt("set", "title", "悪魔くん");
　　　　　　　　// pdt("set", "url", "https://pdt.tsubugumioishii.blog/akumakun ");
　　　　　　　　// pdt("set", "referrer", "https://pdt.tsubugumioishii.blog/mefisto");
　　　　　　　　// pdt("set", "piEmail", "悪魔くんメールアドレス");
　　　　　　　　// pdt("set", "utmCampaign", "メフィスト2世");
    // pdt('sendPageView');
	    
    pdt(function (tracker) {
      let status = tracker.getConsentStatus();
      let title = tracker.get("title");
      let url = tracker.get("url");
      let referrer = tracker.get("referrer");
      let piEmail = tracker.get("piEmail");
      let utmCampaign = tracker.get("utmCampaign");
      console.log("Status: "+status+, "Title: "+title, "URL: "+url, "Refferer: "+referrer, "piEmail: "+piEmail, "Campaign: "+utmCampaign);
    });

</script>
        
</body>
</html>
